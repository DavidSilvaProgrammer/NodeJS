/*Bibliotecas body-parser e cors*/

const express=require('express')
const bodyPerser=require('body-parser')
const cors=require('cors')

const app=express();
const porta=30000;

/*Array de livros que vamos utilizar como se fosse
um banco de dados*/

let livro=[];

app.user(cors());

/*Configurando o body parser para que o body das requisições
seja interpretado como JSON*/

app.user(bodyParser.json());

app.get('/book',(req,res)=>{
    red.send("Olá express")
});

app.list(porta,()=>{console.log("Servidor rodando na porta 8080")})


/*As bibliotecas servem para abstrair informações do HTTP para o Node.js */

app.get('/book',(req,res)=>{
    res.send(livros);
})

app.post('/book',(req,res)=>{
    const.livro=req.body;
    //printando o livro que foi inserido
    console.log(livro);
    //adicionando no array de livros
    livros.push(livro);
    res.send('O livro foi inserido com sucesso!')
})

